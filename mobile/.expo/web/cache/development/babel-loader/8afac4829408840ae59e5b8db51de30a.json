{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\alexa\\\\Desktop\\\\Curso FS\\\\projeto-ONG\\\\mobile\\\\src\\\\pages\\\\incidents\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { useNavigation } from '@react-navigation/native';\nimport api from \"../../services/api\";\nimport { Feather } from \"@expo/vector-icons\";\nimport logoImg from \"../../assets/logo.png\";\nimport style from \"./style\";\nexport default function Incidents() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      incidents = _useState2[0],\n      setIncidents = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      total = _useState4[0],\n      setTotal = _useState4[1];\n\n  var navigation = useNavigation();\n\n  function navigateToDetail(incident) {\n    navigation.navigate('Detail', {\n      incident: incident\n    });\n  }\n\n  function loadIncidents() {\n    var res;\n    return _regeneratorRuntime.async(function loadIncidents$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(api.get('incidents'));\n\n          case 2:\n            res = _context.sent;\n            setIncidents(res.data);\n            setTotal(res.headers['x-total-count']);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    loadIncidents();\n  });\n  return React.createElement(View, {\n    style: style.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: style.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    source: logoImg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: style.headerText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, \"Total de \", React.createElement(Text, {\n    style: style.headerTextBold,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 30\n    }\n  }, total, \" casos\"))), React.createElement(Text, {\n    style: style.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Beeeem Vinnnndo!\"), React.createElement(Text, {\n    style: style.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"Escolha um dos casos abaixo:\"), React.createElement(FlatList, {\n    data: incidents,\n    style: style.incidentList,\n    keyExtractor: function keyExtractor(incident) {\n      return String(incident.id);\n    },\n    showsVerticalScrollIndicator: false,\n    renderItem: function renderItem(_ref) {\n      var incident = _ref.item;\n      return React.createElement(View, {\n        style: style.incident,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: style.incidentProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }, \"ONG:\"), React.createElement(Text, {\n        style: style.incidentValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }\n      }, incident.name), React.createElement(Text, {\n        style: style.incidentProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, \"Caso:\"), React.createElement(Text, {\n        style: style.incidentValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, incident.title), React.createElement(Text, {\n        style: style.incidentProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }, \"Valor:\"), React.createElement(Text, {\n        style: style.incidentValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }\n      }, Intl.NumberFormat('pt-BR', {\n        style: 'currency',\n        currency: 'BRL'\n      }).format(incident.value)), React.createElement(TouchableOpacity, {\n        style: style.detailsButton,\n        onPress: function onPress(incident) {\n          return navigateToDetail(incident);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: style.detailsButtonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }\n      }, \"Ver mais detalhes\"), React.createElement(Feather, {\n        name: \"arrow-right\",\n        size: 16,\n        color: \"#e02041\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }\n      })));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/alexa/Desktop/Curso FS/projeto-ONG/mobile/src/pages/incidents/index.js"],"names":["React","useEffect","useState","useNavigation","api","Feather","logoImg","style","Incidents","incidents","setIncidents","total","setTotal","navigation","navigateToDetail","incident","navigate","loadIncidents","get","res","data","headers","container","header","headerText","headerTextBold","title","description","incidentList","String","id","item","incidentProperty","incidentValue","name","Intl","NumberFormat","currency","format","value","detailsButton","detailsButtonText"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAyBC,QAAzB,QAAwC,OAAxC;;;;;;AAEA,SAAQC,aAAR,QAA4B,0BAA5B;AACA,OAAOC,GAAP;AAGA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,OAAOC,OAAP;AAEA,OAAOC,KAAP;AAEA,eAAe,SAASC,SAAT,GAAoB;AAAA,kBAEEN,QAAQ,CAAC,EAAD,CAFV;AAAA;AAAA,MAEzBO,SAFyB;AAAA,MAEdC,YAFc;;AAAA,mBAGNR,QAAQ,CAAC,CAAD,CAHF;AAAA;AAAA,MAGzBS,KAHyB;AAAA,MAGlBC,QAHkB;;AAK/B,MAAMC,UAAU,GAAGV,aAAa,EAAhC;;AAEA,WAASW,gBAAT,CAA0BC,QAA1B,EAAmC;AAC/BF,IAAAA,UAAU,CAACG,QAAX,CAAoB,QAApB,EAA8B;AAACD,MAAAA,QAAQ,EAARA;AAAD,KAA9B;AACH;;AAED,WAAeE,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACsBb,GAAG,CAACc,GAAJ,CAAQ,WAAR,CADtB;;AAAA;AACUC,YAAAA,GADV;AAGIT,YAAAA,YAAY,CAACS,GAAG,CAACC,IAAL,CAAZ;AACAR,YAAAA,QAAQ,CAACO,GAAG,CAACE,OAAJ,CAAY,eAAZ,CAAD,CAAR;;AAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOApB,EAAAA,SAAS,CAAC,YAAK;AACXgB,IAAAA,aAAa;AAChB,GAFQ,CAAT;AAIA,SAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEV,KAAK,CAACe,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEf,KAAK,CAACgB,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAEjB,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEC,KAAK,CAACiB,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACa,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEjB,KAAK,CAACkB,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCd,KAApC,WADb,CAFJ,CADJ,EAOI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEJ,KAAK,CAACmB,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPJ,EAQI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEnB,KAAK,CAACoB,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCARJ,EAUI,oBAAC,QAAD;AACA,IAAA,IAAI,EAAElB,SADN;AAEA,IAAA,KAAK,EAAEF,KAAK,CAACqB,YAFb;AAGA,IAAA,YAAY,EAAE,sBAAAb,QAAQ;AAAA,aAAIc,MAAM,CAACd,QAAQ,CAACe,EAAV,CAAV;AAAA,KAHtB;AAIA,IAAA,4BAA4B,EAAE,KAJ9B;AAKA,IAAA,UAAU,EAAE;AAAA,UAAQf,QAAR,QAAEgB,IAAF;AAAA,aACR,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAExB,KAAK,CAACQ,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAER,KAAK,CAACyB,gBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAGI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEzB,KAAK,CAAC0B,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmClB,QAAQ,CAACmB,IAA5C,CAHJ,EAKI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE3B,KAAK,CAACyB,gBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALJ,EAMI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEzB,KAAK,CAAC0B,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmClB,QAAQ,CAACW,KAA5C,CANJ,EAQI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEnB,KAAK,CAACyB,gBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,EASI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEzB,KAAK,CAAC0B,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKE,IAAI,CAACC,YAAL,CAAkB,OAAlB,EAA0B;AACvB7B,QAAAA,KAAK,EAAC,UADiB;AAEvB8B,QAAAA,QAAQ,EAAC;AAFc,OAA1B,EAGIC,MAHJ,CAGWvB,QAAQ,CAACwB,KAHpB,CADL,CATJ,EAgBI,oBAAC,gBAAD;AACA,QAAA,KAAK,EAAEhC,KAAK,CAACiC,aADb;AAEA,QAAA,OAAO,EAAE,iBAACzB,QAAD;AAAA,iBAAaD,gBAAgB,CAACC,QAAD,CAA7B;AAAA,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAER,KAAK,CAACkC,iBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAJJ,EAKI,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAC,aAAd;AAA4B,QAAA,IAAI,EAAE,EAAlC;AAAsC,QAAA,KAAK,EAAC,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CAhBJ,CADQ;AAAA,KALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CAFJ;AA+CH","sourcesContent":["import React,{useEffect, useState} from 'react';\r\nimport {View, Text, Image, TouchableOpacity, FlatList} from 'react-native';\r\nimport {useNavigation} from '@react-navigation/native'\r\nimport api from '../../services/api'\r\n\r\n\r\nimport {Feather} from \"@expo/vector-icons\"\r\nimport logoImg from '../../assets/logo.png'\r\n\r\nimport style from './style'\r\n\r\nexport default function Incidents(){\r\n\r\n    const[incidents, setIncidents] = useState('');\r\n    const[total, setTotal] = useState(0);\r\n\r\n    const navigation = useNavigation();\r\n\r\n    function navigateToDetail(incident){\r\n        navigation.navigate('Detail', {incident})\r\n    }\r\n\r\n    async function loadIncidents() {\r\n        const res = await api.get('incidents');\r\n\r\n        setIncidents(res.data);\r\n        setTotal(res.headers['x-total-count'])\r\n    }\r\n\r\n    useEffect(() =>{\r\n        loadIncidents();\r\n    })\r\n\r\n    return(\r\n        \r\n        <View style={style.container}>\r\n            <View style={style.header}>\r\n                <Image source={logoImg}/>\r\n                <Text style={style.headerText}>\r\n                    Total de <Text style={style.headerTextBold}>{total} casos</Text>\r\n                </Text>\r\n            </View>\r\n            <Text style={style.title}>Beeeem Vinnnndo!</Text>\r\n            <Text style={style.description}>Escolha um dos casos abaixo:</Text>\r\n\r\n            <FlatList \r\n            data={incidents}\r\n            style={style.incidentList}\r\n            keyExtractor={incident => String(incident.id)}\r\n            showsVerticalScrollIndicator={false}\r\n            renderItem={({item: incident}) =>(\r\n                <View style={style.incident}>\r\n\r\n                    <Text style={style.incidentProperty}>ONG:</Text>\r\n                    <Text style={style.incidentValue}>{incident.name}</Text>\r\n\r\n                    <Text style={style.incidentProperty}>Caso:</Text>\r\n                    <Text style={style.incidentValue}>{incident.title}</Text>\r\n                    \r\n                    <Text style={style.incidentProperty}>Valor:</Text>\r\n                    <Text style={style.incidentValue}>\r\n                        {Intl.NumberFormat('pt-BR',{\r\n                            style:'currency', \r\n                            currency:'BRL'})\r\n                            .format(incident.value)}\r\n                            </Text>\r\n                \r\n                    <TouchableOpacity \r\n                    style={style.detailsButton}\r\n                    onPress={(incident) =>navigateToDetail(incident)}\r\n                    >\r\n                        <Text style={style.detailsButtonText}>Ver mais detalhes</Text>\r\n                        <Feather name='arrow-right' size={16} color=\"#e02041\"/>\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n            )}/>\r\n\r\n        </View>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}